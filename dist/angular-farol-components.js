"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function n(r){return typeof r}:function n(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}!function(n,r){if("function"==typeof define&&define.amd)define(["angular"],r);else{if("undefined"==typeof module||"object"!==_typeof(module.exports))return r(angular);module.exports=r(require("angular"))}}(void 0,function(n){var r="FarolComponents";return n.module(r,[]),r}),angular.module("FarolComponents").directive("frlSrc",["FarolSDK",function(n){return{link:function r(e,o,t){var i=t.frlSrc.split(";"),l=0,a=t.frlSrcExt||"png",s=!1,d=t.frlReload;void 0!==d&&e.$watch(d,function(n,r){!0===n&&(d=!1,c())});var f=function n(r,e){if(!s)if(200===r){var o=new Uint8Array(e),d="",f,u,m,p=5e3;for(f=0,u=o.length;f<u;f+=5e3)m=o.subarray(f,f+5e3),d+=String.fromCharCode.apply(null,m);var v=btoa(d);t.$set("src","data:image/"+a+";base64,"+v)}else 404===r&&l<i.length-1&&(l++,c())},c=function r(){var e=i[l].split(","),o={format:a},t=new n.Admin.File;n.authorization?t.download(e[0],e[1],e[2],o,f):t.publicDownload(e[0],e[1],o,f)};c(),"function"==typeof e.$on&&e.$on("$destroy",function(){return s=!0})},restrict:"A"}}]),angular.module("FarolComponents").component("frlAvatar",{bindings:{class:"@",size:"=?",userId:"=",userName:"="},controller:"frlAvatarController",controllerAs:"vmdr",template:'<div\n  style="width: {{ vmdr.size }}px; min-width: {{ vmdr.size }}px; height: {{\n    vmdr.size\n  }}px; line-height: {{ vmdr.size }}px;"\n>\n  <img\n    class="avatar"\n    style="width: {{ vmdr.size }}px; min-width: {{ vmdr.size }}px; height: {{\n      vmdr.size\n    }}px; line-height: {{ vmdr.size }}px;"\n    src="https://ui-avatars.com/api/?name={{\n      vmdr.userName\n    }}&background=777E86&color=ffffff&size={{ vmdr.size }}"\n    frl-src="bas_user,{{ vmdr.userId }},avatar"\n    ng-if="vmdr.reload"\n  />\n</div>\n'}),angular.module("FarolComponents").controller("frlAvatarController",["$rootScope","$scope","$timeout",function(n,r,e){var o=this;o.$onInit=function(){o.reload=!0,o.size=o.size||36},n.$on("refreshAvatar",function(){o.reload=!1,e(function(){return o.reload=!0},500)})}]),angular.module("FarolComponents").component("frlProjectIcon",{bindings:{class:"@",size:"=?",projectCode:"=",projectName:"="},controller:"frlProjectIconController",controllerAs:"vmdr",template:'<img\n  style="width: {{ vmdr.size }}px; min-width: {{ vmdr.size }}px; height: {{\n    vmdr.size\n  }}px; line-height: {{ vmdr.size }}px;"\n  frl-src="{{ vmdr.projectCode }},icon"\n/>\n'}),angular.module("FarolComponents").controller("frlProjectIconController",function(){var n=this;n.$onInit=function(){n.size=n.size||36}});