"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function n(e){return typeof e}:function n(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}!function(n,e){if("function"==typeof define&&define.amd)define(["angular"],e);else{if("undefined"==typeof module||"object"!==_typeof(module.exports))return e(angular);module.exports=e(require("angular"))}}(void 0,function(n){var e="FarolComponents";return n.module(e,[]),e}),angular.module("FarolComponents").directive("frlSrc",["FarolSDK",function(n){return{link:function e(t,o,r){var i=r.frlSrc.split(";"),l=0,a=r.frlSrcExt||"png",d=!1,m=r.frlReload;void 0!==m&&t.$watch(m,function(n,e){!0===n&&(m=!1,p())});var u=function n(e,t){if(!d)if(200===e){var o=new Uint8Array(t),m="",u,s,c,f=5e3;for(u=0,s=o.length;u<s;u+=5e3)c=o.subarray(u,u+5e3),m+=String.fromCharCode.apply(null,c);var v=btoa(m);r.$set("src","data:image/"+a+";base64,"+v)}else 404===e&&l<i.length-1&&(l++,p())},p=function e(){var t=i[l].split(","),o={format:a},r=new n.Admin.File;n.authorization?r.download(t[0],t[1],t[2],o,u):r.publicDownload(t[0],t[1],o,u)};p(),"function"==typeof t.$on&&t.$on("$destroy",function(){return d=!0})},restrict:"A"}}]),angular.module("FarolComponents").component("frlAvatar",{bindings:{class:"@",size:"=?",userId:"=",userName:"="},controller:"frlAvatarController",controllerAs:"vmdr",template:'<div\n  style="width: {{ vmdr.size }}px; min-width: {{ vmdr.size }}px; height: {{\n    vmdr.size\n  }}px; line-height: {{ vmdr.size }}px;"\n>\n  <img\n    class="avatar"\n    style="width: {{ vmdr.size }}px; min-width: {{ vmdr.size }}px; height: {{\n      vmdr.size\n    }}px; line-height: {{ vmdr.size }}px;"\n    src="https://ui-avatars.com/api/?name={{\n      vmdr.userName\n    }}&background=777E86&color=ffffff&size={{ vmdr.size }}"\n    frl-src="bas_user,{{ vmdr.userId }},avatar"\n    ng-if="vmdr.reload"\n  />\n</div>\n'}),angular.module("FarolComponents").controller("frlAvatarController",["$rootScope","$scope","$timeout",function(n,e,t){var o=this;o.$onInit=function(){o.reload=!0,o.size=o.size||36},n.$on("refreshAvatar",function(){o.reload=!1,t(function(){return o.reload=!0},500)})}]),angular.module("FarolComponents").component("frlFieldTime",{controllerAs:"vmcpt",controller:"FrlFieldTimeController",bindings:{fieldName:"@frlFieldname",hint:"@?frlHint",readonly:"<?frlReadonly",required:"<?frlRequired",hidden:"<?frlHidden",minValue:"<?frlMinvalue",maxValue:"<?frlMaxvalue",hasDate:"<?frlHasdate",hasTime:"<?frlHastime",model:"=frlModel",initialValue:"@?frlInitialvalue"},template:'<div\n  ng-if="vmcpt.finishedLoading"\n  ng-hide="vmcpt.hidden"\n  ng-form="vmcpt.textTime"\n>\n  <h3 translate="{{ vmcpt.fieldName }}"></h3>\n  <div ng-if="vmcpt.hasDate" layout="row">\n    <md-input-container class="md-block" flex>\n      <input\n        ng-model="vmcpt.year"\n        type="number"\n        ng-step="1"\n        ng-pattern="9999"\n        ng-required="vmcpt.required"\n        ng-readonly="vmcpt.readonly"\n      />\n    </md-input-container>\n    <md-input-container class="md-block" flex>\n      <select\n        ng-model="vmcpt.month"\n        ng-required="vmcpt.required"\n        ng-readonly="vmcpt.readonly"\n      >\n        <option value="00">{{ \'JANUARY\' | translate }}</option>\n        <option value="01">{{ \'FEBRUARY\' | translate }}</option>\n        <option value="02">{{ \'MARCH\' | translate }}</option>\n        <option value="03">{{ \'APRIL\' | translate }}</option>\n        <option value="04">{{ \'MAY\' | translate }}</option>\n        <option value="05">{{ \'JUNE\' | translate }}</option>\n        <option value="06">{{ \'JULY\' | translate }}</option>\n        <option value="07">{{ \'AUGUST\' | translate }}</option>\n        <option value="08">{{ \'SEPTEMBER\' | translate }}</option>\n        <option value="09">{{ \'OCTOBER\' | translate }}</option>\n        <option value="10">{{ \'NOVEMBER\' | translate }}</option>\n        <option value="11">{{ \'DECEMBER\' | translate }}</option>\n      </select>\n    </md-input-container>\n    <md-input-container class="md-block" flex>\n      <input\n        ng-model="vmcpt.day"\n        type="number"\n        ng-step="1"\n        ng-pattern="99"\n        ng-min="1"\n        ng-max="31"\n        ng-required="vmcpt.required"\n        ng-readonly="vmcpt.readonly"\n      />\n    </md-input-container>\n  </div>\n  <div ng-if="vmcpt.hasTime" layout="row">\n    <md-input-container class="md-block" flex>\n      <input\n        ng-model="vmcpt.hour"\n        type="number"\n        ng-step="1"\n        ng-pattern="99"\n        ng-required="vmcpt.required"\n        ng-readonly="vmcpt.readonly"\n        ng-min="00"\n        ng-max="23"\n      />\n    </md-input-container>\n    <md-input-container class="md-block" flex>\n      <input\n        ng-model="vmcpt.minute"\n        type="number"\n        ng-step="1"\n        ng-pattern="99"\n        ng-min="0"\n        ng-max="59"\n        ng-required="vmcpt.required"\n        ng-readonly="vmcpt.readonly"\n      />\n    </md-input-container>\n  </div>\n  <div ng-if="vmcpt.hint" translate="{{ vmcpt.hint }}"></div>\n</div>\n'}),function(){function n(n,e){var t=this;t.$onInit=function(){!t.initialValue||""!==t.model&&void 0!==t.model||(t.model=t.initialValue),n.$watch(t.model,function(){t.model&&(t.model=new Date(t.model),t.hasDate&&(t.year=t.model.getFullYear(),t.month=t.model.getMonth(),t.day=t.model.getDate()),t.hasTime&&(t.hour=t.model.getHours(),t.minute=t.model.getMinutes()))}),t.finishedLoading=!0},t.updateModel=function(){t.hasDate&&t.year&&t.month&&t.day&&(t.model instanceof Date||(t.model=new Date(0)),t.year=t.model.getFullYear(),t.month=t.model.getMonth(),t.day=t.model.getDate()),t.hasTime&&t.hour&&t.minute&&(t.model instanceof Date||(t.model=new Date(0)),t.hour=t.model.getHours(),t.minute=t.model.getMinutes())}}n.$inject=["$scope","uuid"],angular.module("FarolComponents").controller("FrlFieldTimeController",n)}(),angular.module("FarolComponents").component("frlProjectIcon",{bindings:{class:"@",size:"=?",projectCode:"=",projectName:"="},controller:"frlProjectIconController",controllerAs:"vmdr",template:'<img\n  style="width: {{ vmdr.size }}px; min-width: {{ vmdr.size }}px; height: {{\n    vmdr.size\n  }}px; line-height: {{ vmdr.size }}px;"\n  frl-src="{{ vmdr.projectCode }},icon"\n/>\n'}),angular.module("FarolComponents").controller("frlProjectIconController",function(){var n=this;n.$onInit=function(){n.size=n.size||36}});